<view class="{{['container','data-v-a75ec2bc',(careMode)?'care-mode':'']}}"><view class="header data-v-a75ec2bc"><text class="main-title data-v-a75ec2bc">个人中心</text></view><scroll-view class="content data-v-a75ec2bc" style="{{'padding-bottom:'+('140rpx')+';'}}" scroll-y="{{true}}"><view data-event-opts="{{[['tap',[['editProfile',['$event']]]]]}}" class="card-section data-v-a75ec2bc" bindtap="__e"><view class="user-card data-v-a75ec2bc"><view class="card-bg data-v-a75ec2bc"><view class="bg-circle circle-1 data-v-a75ec2bc"></view><view class="bg-circle circle-2 data-v-a75ec2bc"></view><view class="bg-circle circle-3 data-v-a75ec2bc"></view></view><view class="avatar-container data-v-a75ec2bc"><block wx:if="{{userInfo.avatarUrl}}"><image class="user-avatar data-v-a75ec2bc" style="{{'width:'+(selectedAvatarSize+'rpx')+';'+('height:'+(selectedAvatarSize+'rpx')+';')+('border-radius:'+(selectedAvatarSize/2+'rpx')+';')}}" src="{{userInfo.avatarUrl}}" mode="aspectFill" data-event-opts="{{[['error',[['handleAvatarError',['$event']]]]]}}" binderror="__e"></image></block><block wx:else><view class="user-avatar default-avatar data-v-a75ec2bc" style="{{'width:'+(selectedAvatarSize+'rpx')+';'+('height:'+(selectedAvatarSize+'rpx')+';')+('border-radius:'+(selectedAvatarSize/2+'rpx')+';')}}"><text class="avatar-text data-v-a75ec2bc" style="{{'font-size:'+(selectedAvatarSize*0.4+'rpx')+';'}}">{{$root.m0}}</text></view></block></view><view class="user-info data-v-a75ec2bc"><text class="user-name data-v-a75ec2bc">{{$root.m1}}</text><block wx:if="{{userInfo.userType&&(userInfo.userType==='学生'||userInfo.userType==='老师')}}"><view class="user-tags data-v-a75ec2bc"><view class="{{['tag','data-v-a75ec2bc',userInfo.userType==='学生'?'tag-student':'tag-teacher']}}"><text class="tag-icon data-v-a75ec2bc">{{userInfo.userType==='学生'?'🎓':'👨‍🏫'}}</text><text class="tag-text data-v-a75ec2bc">{{userInfo.userType}}</text></view></view></block><block wx:if="{{userInfo.signature}}"><text class="user-signature data-v-a75ec2bc">{{userInfo.signature}}</text></block><block wx:else><text class="user-signature placeholder data-v-a75ec2bc">点击编辑个人资料</text></block></view></view></view><block wx:if="{{!isLoggedIn}}"><view class="login-card data-v-a75ec2bc"><view class="login-avatar data-v-a75ec2bc">👤</view><view class="login-info data-v-a75ec2bc"><text class="login-title data-v-a75ec2bc">欢迎使用历小包</text><text class="login-desc data-v-a75ec2bc">登录后享受更多功能</text></view><button data-event-opts="{{[['tap',[['goToLogin',['$event']]]]]}}" class="login-btn data-v-a75ec2bc" bindtap="__e">登录</button></view></block><block wx:if="{{isLoggedIn}}"><view class="settings-section data-v-a75ec2bc"><view data-event-opts="{{[['tap',[['goToSettings',['$event']]]]]}}" class="settings-card data-v-a75ec2bc" bindtap="__e"><text class="setting-icon data-v-a75ec2bc">⚙️</text><text class="setting-text data-v-a75ec2bc">设置</text><text class="setting-arrow data-v-a75ec2bc">></text></view></view></block><block wx:if="{{isLoggedIn}}"><view class="customer-service-section data-v-a75ec2bc"><view data-event-opts="{{[['tap',[['showContactModal',['$event']]]]]}}" class="customer-service-btn data-v-a75ec2bc" bindtap="__e"><view class="service-content data-v-a75ec2bc"><text class="service-icon data-v-a75ec2bc">💬</text><text class="service-text data-v-a75ec2bc">联系客服</text><text class="service-arrow data-v-a75ec2bc">></text></view></view></view></block></scroll-view><block wx:if="{{showModal}}"><view data-event-opts="{{[['tap',[['hideContactModal',['$event']]]]]}}" class="contact-modal data-v-a75ec2bc" bindtap="__e"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="modal-content data-v-a75ec2bc" catchtap="__e"><view class="modal-header data-v-a75ec2bc"><text class="modal-title data-v-a75ec2bc">联系客服</text><text data-event-opts="{{[['tap',[['hideContactModal',['$event']]]]]}}" class="modal-close data-v-a75ec2bc" bindtap="__e">×</text></view><view class="modal-body data-v-a75ec2bc"><text class="modal-text data-v-a75ec2bc">请选择联系方式：</text><view class="contact-options data-v-a75ec2bc"><button class="contact-btn data-v-a75ec2bc" open-type="contact" session-from="个人中心" data-event-opts="{{[['contact',[['handleContact',['$event']]]]]}}" bindcontact="__e"><text class="contact-icon data-v-a75ec2bc">💬</text><text class="contact-text data-v-a75ec2bc">微信客服</text></button><view data-event-opts="{{[['tap',[['copyWechat',['$event']]]]]}}" class="contact-btn data-v-a75ec2bc" bindtap="__e"><text class="contact-icon data-v-a75ec2bc">📱</text><text class="contact-text data-v-a75ec2bc">复制微信号</text></view></view></view></view></view></block></view>